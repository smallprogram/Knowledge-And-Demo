# [返回主目录](Readme.md)<!-- omit in toc --> 

# 目录 <!-- omit in toc --> 

## Angular 注入树

按照树从高到底分为：
1. NullInjector()
2. ModuleInjector,来自PlatformModule
3. root ModuleInjector
4. NgModuleInjector
5. DirectiveInjector、ComponentInjector

当Angular需要进行依赖注入时，会从注入树中由低到高寻找依赖，无论在那一层找到依赖即停止寻找。如果找到最高层NullInjector()就会抛出error。

## Angular中的依赖注入

在Angular中依赖注入主要应用于服务类。设置依赖注入的方式分为一下几种：
1. @Injectable({ providedIn:'root' })，Angular服务的默认方式。其会在root ModuleInjector级别提供依赖注入关系。
2. NgModule的@NgModule()装饰器中, providers元数据设置。其会在NgModuleInjector级配提供依赖注入关系
3. Component的@Component()装饰器中或Directive的@Directive装饰器中， providers 或 viewProviders 属性来配置 。其会在ComponentInjector级提供依赖注入关系。


