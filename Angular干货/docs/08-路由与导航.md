# [返回主目录](Readme.md)<!-- omit in toc --> 

# 目录 <!-- omit in toc --> 

- [概览图](#概览图)
- [路由与导航基础知识](#路由与导航基础知识)
  - [`<base href>`元素](#base-href元素)
  - [路由的angular库](#路由的angular库)
  - [配置路由(简单方式)](#配置路由简单方式)
  - [路由出口`<router-outlet>`](#路由出口router-outlet)
  - [路由器链接 RouterLink指令](#路由器链接-routerlink指令)
  - [路由链接的激活状态 RouterLinkActive指令](#路由链接的激活状态-routerlinkactive指令)
  - [激活的路由 ActivatedRoute服务](#激活的路由-activatedroute服务)
  - [路由事件 Router.events](#路由事件-routerevents)
  - [关键词及含义](#关键词及含义)
- [用法](#用法)

## 概览图

## 路由与导航基础知识

### `<base href>`元素
路由导航基于的根路径就是src/index.html中的base href中设置的路径，默认为/。
### 路由的angular库
```ts
import { RouterModule, Routes } from '@angular/router';
```
### 配置路由(简单方式)

在基于appModule中独立一个路由模块，在路由模块中配置，例如：
```ts
const appRoutes: Routes = [
  { path: 'crisis-center', component: CrisisListComponent },
  { path: 'hero/:id',      component: HeroDetailComponent },
  {
    path: 'heroes',
    component: HeroListComponent,
    data: { title: 'Heroes List' }
  },
  { path: '',
    redirectTo: '/heroes',
    pathMatch: 'full'
  },
  { path: '**', component: PageNotFoundComponent }
];

@NgModule({
  imports: [
    RouterModule.forRoot(
      appRoutes,
      { enableTracing: true } // <-- debugging purposes only
    )
    // other imports here
  ],
  ...
})
export class AppModule { }
```

### 路由出口`<router-outlet>`
路由显示导航的占位符
```html
<router-outlet></router-outlet>
<!-- Routed components go here -->
```
### 路由器链接 RouterLink指令
RouterLink指令一般用在模板上。例如a元素。将需要导航的链接和参数绑定到该指令。例如
```html
<nav>
  <a routerLink="/crisis-center" routerLinkActive="active">Crisis Center</a>
  <a routerLink="/heroes" routerLinkActive="active">Heroes</a>
  <a [routerLink]="['/hero', hero.id]">
</nav>
```

### 路由链接的激活状态 RouterLinkActive指令
RouterLinkActive指令会根据当前RouterState状态切换CSS样式。当RouterState是激活状态时，就会为宿主元素添加响应的CSS类或样式。例如：
```html
<a routerLink="/heroes" [routerLinkActive]="'active fluffy'">Heroes</a>
<a routerLink="/heroes" routerLinkActive="active">Heroes</a>
```

### 激活的路由 ActivatedRoute服务
通过依赖注入ActivatedRoute服务可以获得一堆有用的东西。如下表：
属性|说明
-|-
url|路由路径的 Observable 对象，是一个由路由路径中的各个部分组成的字符串数组。
data|一个 Observable，其中包含提供给路由的 data 对象。也包含由解析守卫（resolve guard）解析而来的值。
paramMap|一个 Observable，其中包含一个由当前路由的必要参数和可选参数组成的map对象。用这个 map 可以获取来自同名参数的单一值或多重值。
queryParamMap|一个 Observable，其中包含一个对所有路由都有效的查询参数组成的map对象。 用这个 map 可以获取来自查询参数的单一值或多重值。
fragment|一个适用于所有路由的 URL 的 fragment（片段）的 Observable。
outlet|要把该路由渲染到的 RouterOutlet 的名字。对于无名路由，它的路由名是 primary，而不是空串。
routeConfig|用于该路由的路由配置信息，其中包含原始路径。
parent|当该路由是一个子路由时，表示该路由的父级 ActivatedRoute。
firstChild|包含该路由的子路由列表中的第一个 ActivatedRoute。
children|包含当前路由下所有已激活的子路由。


### 路由事件 Router.events
路由过程中，Router会通过 Router.events 属性发布一些导航事件。这些事件覆盖了从路由导航开始到结束的所有时间点。

路由器事件|说明
-|-
NavigationStart|本事件会在导航开始时触发。
RouteConfigLoadStart|本事件会在 Router 惰性加载 某个路由配置之前触发。
RouteConfigLoadEnd|本事件会在惰性加载了某个路由后触发。
RoutesRecognized|本事件会在路由器解析完 URL，并识别出了相应的路由时触发
GuardsCheckStart|本事件会在路由器开始 Guard 阶段之前触发。
ChildActivationStart|本事件会在路由器开始激活路由的子路由时触发。
ActivationStart|本事件会在路由器开始激活某个路由时触发。
GuardsCheckEnd|本事件会在路由器成功完成了 Guard 阶段时触发。
ResolveStart|本事件会在 Router 开始解析（Resolve）阶段时触发。
ResolveEnd|本事件会在路由器成功完成了路由的解析（Resolve）阶段时触发。
ChildActivationEnd|本事件会在路由器激活了路由的子路由时触发。
ActivationEnd|本事件会在路由器激活了某个路由时触发。
NavigationEnd|本事件会在导航成功结束之后触发。
NavigationCancel|本事件会在导航被取消之后触发。 这可能是因为在导航期间某个路由守卫返回了 false。
NavigationError|这个事件会在导航由于意料之外的错误而失败时触发。
Scroll|本事件代表一个滚动事件。

当启用了 enableTracing 选项时，这些事件也同时会记录到控制台中。

### 关键词及含义
路由器部件|含义
-|-
Router（路由器）|为激活的 URL 显示应用组件。管理从一个组件到另一个组件的导航
RouterModule|一个独立的 NgModule，用于提供所需的服务提供者，以及用来在应用视图之间进行导航的指令。
Routes（路由数组）|定义了一个路由数组，每一个都会把一个 URL 路径映射到一个组件。
Route（路由）|定义路由器该如何根据 URL 模式（pattern）来导航到组件。大多数路由都由路径和组件类构成。
RouterOutlet（路由出口）|该指令（`<router-outlet>`）用来标记出路由器该在哪里显示视图。
RouterLink（路由链接）|这个指令把可点击的 HTML 元素绑定到某个路由。点击带有 routerLink 指令（绑定到字符串或链接参数数组）的元素时就会触发一次导航。
RouterLinkActive（活动路由链接）|当 HTML 元素上或元素内的routerLink变为激活或非激活状态时，该指令为这个 HTML 元素添加或移除 CSS 类。
ActivatedRoute（激活的路由）|为每个路由组件提供的一个服务，它包含特定于路由的信息，比如路由参数、静态数据、解析数据、全局查询参数和全局碎片（fragment）。
RouterState（路由器状态）|路由器的当前状态包含了一棵由程序中激活的路由构成的树。它包含一些用于遍历路由树的快捷方法。
链接参数数组|这个数组会被路由器解释成一个路由操作指南。你可以把一个RouterLink绑定到该数组，或者把它作为参数传给Router.navigate方法。
路由组件|一个带有RouterOutlet的 Angular 组件，它根据路由器的导航来显示相应的视图。

## 用法

